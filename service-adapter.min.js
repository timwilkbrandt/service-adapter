var serviceAdapter=function(){var e=this;this.responseData=null,this.responseXml=null,this.responseText=null,this.responseJson=null,this.settings={isAsync:!0,method:"",url:"",enctype:"",contentType:"",isJson:!1,data:null,enableLogging:!0},this.qsParameters=new function(){this.collection=JSON.parse('{"parameters":[]}'),this.add=function(e,s){var t={id:e,val:s};this.collection.parameters.push(t)}},this.headers=new function(){this.collection=JSON.parse('{"headers":[]}'),this.add=function(e,s){var t={id:e,val:s};this.collection.headers.push(t)},this.contains=function(e){var s=!1;return Array.prototype.forEach.call(this.collection.headers,function(t){t.id.toLowerCase()==e.toLowerCase()&&(s=!0)}),s?!0:!1}},this.callbacks=new function(){this.customSuccessCallback=null,this.customErrorCallback=null,this.serviceAdapterCallback=function(s){function t(s){e.settings.enableLogging&&(console.group("server connection established"),console.log(s),console.groupEnd())}function n(s){e.settings.enableLogging&&(console.group("request recieved"),console.log(s),console.groupEnd())}function o(s){e.settings.enableLogging&&(console.group("request processing"),console.log(s),console.groupEnd())}function i(s){200==s.status?c(s):a(s),e.settings.enableLogging&&console.timeEnd("service-adapter")}function c(s){e.settings.enableLogging&&(console.group("request complete: success"),console.log(s.status),console.log(s),console.groupEnd()),null!=s&&(e.responseData=s,e.responseText=s.responseText,e.responseXml=s.responseXML,e.settings.isJson&&(e.responseJson=JSON.parse(s.responseText))),null!=e.callbacks.customSuccessCallback&&e.callbacks.customSuccessCallback(s)}function a(s){e.settings.enableLogging&&(console.group("request complete: error"),console.log(s.status),console.log(s),console.groupEnd()),null!=e.callbacks.customErrorCallback&&e.callbacks.customErrorCallback(s)}switch(s.readyState){case 1:t(s);break;case 2:n(s);break;case 3:o(s);break;case 4:i(s)}}};var s=function(){var e=this.settings.url;Array.prototype.forEach.call(this.qsParameters.collection.parameters,function(s,t){var n="";n=0==t?"?":"&",e+=n+s.id+"="+s.val}),this.settings.url=e}.bind(this);serviceAdapter.prototype.send=function(){var e=this;s(),this.settings.enableLogging&&console.time("service-adapter");var t=new XMLHttpRequest;t.onreadystatechange=function(){e.callbacks.serviceAdapterCallback(t)},this.headers.contains("enctype")||this.headers.add("enctype",this.settings.enctype),this.headers.contains("content-type")||this.headers.add("content-type",this.settings.contentType),this.qsParameters.collection.length>0&&s(),t.open(this.settings.method,this.settings.url,this.settings.isAsync),Array.prototype.forEach.call(this.headers.collection.headers,function(e){t.setRequestHeader(e.id,e.val)}),t.send(this.settings.data)},serviceAdapter.prototype.get=function(){this.settings.method="GET",this.send()},serviceAdapter.prototype.getJson=function(){this.settings.isJson=!0,this.settings.method="GET",this.settings.contentType="application/json",this.send()},serviceAdapter.prototype.getXml=function(){this.settings.isJson=!1,this.settings.method="GET",this.send()},serviceAdapter.prototype.post=function(){this.settings.method="POST",this.send()},serviceAdapter.prototype.postJson=function(){this.settings.method="POST",this.settings.contentType="application/json",this.send()},serviceAdapter.prototype.postXml=function(){this.settings.method="POST",this.settings.contentType="application/xml",this.send()}};